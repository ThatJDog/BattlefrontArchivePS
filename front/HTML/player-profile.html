<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <link rel="stylesheet" href="../CSS/profile-style.css"> -->
  <link rel="stylesheet" href="../CSS/elo-graph.css">
  <link rel="stylesheet" href="../CSS/global-swbf.css">
  <link rel="stylesheet" href="../CSS/popup.css">
  <script type="module" src="../JS/navbar.js"></script>
  <script type="module" src="../JS/themes.js"></script>
  <script src="../JS/popup.js"></script> <!-- Replace with the actual path -->
  <style>
    /* Profile Header Frame */
    /*.profile-header {
        display: flex;
        align-items: center;
        gap: 20px;
    }*/

    /* Profile Picture */
    .profile-picture img {
        width: 120px;
        height: 160px;
        object-fit: cover;
        border-radius: 8px;
    }

    /* Profile Info */
    .profile-info {
        display: flex;
        flex-direction: column;
    }

    .profile-info h1 {
        margin: 0;
        font-size: 24px;
    }

    .profile-info p {
        margin: 5px 0;
        font-size: 16px;
        color: var(--secondary-text-color);
    }

</style>

  <script type="module" src="/db/database-loader.js" defer></script>
  <title>ELO Graph</title>
</head>
<body>
    <!-- Universal Popup Overlay (Hidden by Default) -->
    <div id="popupOverlay" class="popup-overlay">
        <div class="popup-content">
            <button class="close-btn" onclick="closePopup()">âœ–</button>
            <div id="popupContent"></div>
        </div>
    </div>

    <!-- Example buttons to open different pages in the popup -->
    <button onclick="openPopup('./match-score.html', { matchID: 1234 })" class="open-popup-btn">Open Stats</button>

    <div class="section-container">
        <div class="section horizontal" style="height: 80vh;">
            <!-- Player Character Frame -->
            <div class="frame" style="width: 50%">
                <div class="frame-header">
                    <h2>Showcase</h2>
                </div>
                <div class="frame-content">
                    <div class="profile-picture">
                        <img src="/path/to/profile-picture.jpg" alt="Player Picture" />
                    </div>
                </div>
            </div>
    
            <!-- Player Info Section -->
            <div class="frame" style="width: 50%">
                <div class="frame-header">
                    <h2>Player Profile</h2>
                </div>
                <div class="frame-content">
                    <div class="profile-info">
                        <p>Age: 23</p>
                        <p>Nationality: English</p>
                        <p>Value: $10M</p>
                        <p>Contract Expiry: 2024</p>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="full-width-section">
            <div class="frame">
                <div class="frame-header">
                    <h2>Elo Graph</h2>
                </div>
                <div class="frame-content" style="height: 500px;">
                    <div class="graph-container" id="eloGraphContainer"></div>
                </div>
            </div>
        </div>
    
        <!-- Additional Full Width Section -->
        <div class="full-width-section">
            <div class="frame">
                <div class="frame-header">
                    <h2>Match History</h2>
                </div>
                <div class="frame-content">
                    
                </div>
            </div>
        </div>
    </div>

  <script type="module">
    import { loadEloGraph } from '../JS/elo_graph_module.js';

    document.addEventListener("DatabaseReady", () => {
        const playerName = new URLSearchParams(window.location.search).get('player');
        const container = document.getElementById('eloGraphContainer');

        if (playerName) {
            loadEloGraph(playerName, window.db, container);
        } else {
            loadEloGraph('Foggle', window.db, container);
        }
    });
</script>

</body>
</html>